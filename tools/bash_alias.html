<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>bash alias 配置 - Yilin's Wiki</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          <!--$表示行内元素，$$表示块状元素 -->
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <!--Mermaid流程图-->
    <script src="https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/wiki/">Home</a>&nbsp;&#187;&nbsp;<a href="/wiki/#tools">tools</a>&nbsp;&#187;&nbsp;bash alias 配置
    <span class="updated">Page Updated&nbsp;
      2020-06-23 01:01
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">bash alias 配置</div>

  <p>bash 命令的一些快捷配置，可以在 <code>.bashrc</code> 等文件里直接加上 <code>source /etc/profile.d/alias.sh</code>。（我的github上的gist里也有）</p>
<div class="hlcode"><pre><span></span><span class="c1"># /etc/profile.d/alias.sh</span>

<span class="c1"># https://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html</span>

<span class="c1">## ls command</span>
<span class="nb">alias</span> <span class="nv">ls</span><span class="o">=</span><span class="s1">&#39;ls --color=auto&#39;</span>
<span class="nb">alias</span> <span class="nv">wl</span><span class="o">=</span><span class="s1">&#39;ls | wc -l&#39;</span>
<span class="nb">alias</span> <span class="nv">l</span><span class="o">=</span><span class="s1">&#39;ls -l --color=auto&#39;</span>
<span class="nb">alias</span> <span class="nv">lh</span><span class="o">=</span><span class="s1">&#39;ls -lh --color=auto&#39;</span>
<span class="nb">alias</span> <span class="nv">ll</span><span class="o">=</span><span class="s1">&#39;ls -la --color=auto&#39;</span>  <span class="c1"># use a long listing format</span>
<span class="nb">alias</span> l.<span class="o">=</span><span class="s1">&#39;ls -d .* --color=auto&#39;</span>  <span class="c1"># show hidden files</span>

<span class="c1">## cd command</span>
<span class="nb">alias</span> cd..<span class="o">=</span><span class="s1">&#39;cd ..&#39;</span>
<span class="nb">alias</span> ..<span class="o">=</span><span class="s1">&#39;cd ..&#39;</span>

<span class="c1">## colorize the grep command output for ease of use</span>
<span class="nb">alias</span> <span class="nv">grep</span><span class="o">=</span><span class="s1">&#39;grep --color=auto&#39;</span>
<span class="nb">alias</span> <span class="nv">egrep</span><span class="o">=</span><span class="s1">&#39;egrep --color=auto&#39;</span>
<span class="nb">alias</span> <span class="nv">fgrep</span><span class="o">=</span><span class="s1">&#39;fgrep --color=auto&#39;</span>

<span class="c1">## start calculator with math support</span>
<span class="nb">alias</span> <span class="nv">bc</span><span class="o">=</span><span class="s1">&#39;bc -l&#39;</span>

<span class="c1"># sudo apt install colordiff</span>
<span class="nb">alias</span> <span class="nv">diff</span><span class="o">=</span><span class="s1">&#39;colordiff&#39;</span>

<span class="c1"># make mount command output pretty and human readable format</span>
<span class="nb">alias</span> <span class="nv">mount</span><span class="o">=</span><span class="s1">&#39;mount |column -t&#39;</span>

<span class="c1"># handy short cuts #</span>
<span class="nb">alias</span> <span class="nv">h</span><span class="o">=</span><span class="s1">&#39;history&#39;</span>
<span class="nb">alias</span> <span class="nv">j</span><span class="o">=</span><span class="s1">&#39;jobs -l&#39;</span>
<span class="nb">alias</span> <span class="nv">c</span><span class="o">=</span><span class="s1">&#39;clear&#39;</span>
<span class="nb">alias</span> <span class="nv">p</span><span class="o">=</span><span class="s1">&#39;pwd&#39;</span>

<span class="nb">alias</span> <span class="nv">path</span><span class="o">=</span><span class="s1">&#39;echo -e ${PATH//:/\\n}&#39;</span>  <span class="c1"># print paths in $PATH</span>
<span class="nb">alias</span> <span class="nv">nowtime</span><span class="o">=</span><span class="s1">&#39;date +&quot;%T&quot;&#39;</span>
<span class="nb">alias</span> <span class="nv">nowdate</span><span class="o">=</span><span class="s1">&#39;date +&quot;%Y-%m-%d&quot;&#39;</span>

<span class="c1">## set vim as default</span>
<span class="nb">alias</span> <span class="nv">edit</span><span class="o">=</span><span class="s1">&#39;vim&#39;</span>

<span class="c1">## use netstat command to quickly list all TCP/UDP port on the server</span>
<span class="nb">alias</span> <span class="nv">ports</span><span class="o">=</span><span class="s1">&#39;netstat -tulanp&#39;</span>

<span class="c1">## control firewall (iptables) output</span>
<span class="c1"># https://www.cyberciti.biz/tips/linux-iptables-examples.html</span>

<span class="c1"># shortcut for iptables and pass it via sudo</span>
<span class="nb">alias</span> <span class="nv">ipt</span><span class="o">=</span><span class="s1">&#39;sudo /sbin/iptables&#39;</span>

<span class="c1"># display all rules</span>
<span class="nb">alias</span> <span class="nv">iptlist</span><span class="o">=</span><span class="s1">&#39;sudo /sbin/iptables -L -n -v --line-numbers&#39;</span>
<span class="nb">alias</span> <span class="nv">iptlistin</span><span class="o">=</span><span class="s1">&#39;sudo /sbin/iptables -L INPUT -n -v --line-numbers&#39;</span>
<span class="nb">alias</span> <span class="nv">iptlistout</span><span class="o">=</span><span class="s1">&#39;sudo /sbin/iptables -L OUTPUT -n -v --line-numbers&#39;</span>
<span class="nb">alias</span> <span class="nv">iptlistfw</span><span class="o">=</span><span class="s1">&#39;sudo /sbin/iptables -L FORWARD -n -v --line-numbers&#39;</span>
<span class="nb">alias</span> <span class="nv">firewall</span><span class="o">=</span>iptlist

<span class="c1">## add safety cp/mv/rm</span>
<span class="c1"># alias rm=&quot;rm -i&quot;</span>
<span class="c1"># alias mv=&#39;mv -iv&#39;</span>
<span class="c1"># alias cp=&#39;cp -iv&#39;</span>
<span class="c1"># alias ln=&#39;ln -i&#39;</span>

<span class="c1">## get system memory, cpu usage, and gpu memory info quickly</span>
<span class="c1"># memory info</span>
<span class="nb">alias</span> <span class="nv">meminfo</span><span class="o">=</span><span class="s1">&#39;free -m -l -t&#39;</span>

<span class="c1"># get top process eating memory</span>
<span class="nb">alias</span> <span class="nv">psmem</span><span class="o">=</span><span class="s1">&#39;ps auxf | sort -nr -k 4&#39;</span>
<span class="nb">alias</span> <span class="nv">psmem10</span><span class="o">=</span><span class="s1">&#39;ps auxf | sort -nr -k 4 | head -10&#39;</span>

<span class="c1"># get top process eating cpu ##</span>
<span class="nb">alias</span> <span class="nv">pscpu</span><span class="o">=</span><span class="s1">&#39;ps auxf | sort -nr -k 3&#39;</span>
<span class="nb">alias</span> <span class="nv">pscpu10</span><span class="o">=</span><span class="s1">&#39;ps auxf | sort -nr -k 3 | head -10&#39;</span>

<span class="c1"># get server cpu info ##</span>
<span class="nb">alias</span> <span class="nv">cpuinfo</span><span class="o">=</span><span class="s1">&#39;lscpu&#39;</span>

<span class="c1"># get GPU ram on desktop / laptop##</span>
<span class="nb">alias</span> <span class="nv">gpumeminfo</span><span class="o">=</span><span class="s1">&#39;grep -i --color memory /var/log/Xorg.0.log&#39;</span>

<span class="c1">## Resume wget by default</span>
<span class="nb">alias</span> <span class="nv">wget</span><span class="o">=</span><span class="s1">&#39;wget -c&#39;</span>

<span class="c1">## tail -f</span>
<span class="nb">alias</span> <span class="nv">tailf</span><span class="o">=</span><span class="s1">&#39;tail -f&#39;</span>

<span class="c1">## backup util.</span>
<span class="k">function</span> bak<span class="o">()</span> <span class="o">{</span>
  cp <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">.bak&quot;</span>-<span class="sb">`</span>date +%y%m%d<span class="sb">`</span><span class="p">;</span>
  <span class="nb">echo</span> <span class="s2">&quot;`date +%Y-%m-%d-%s` backed up </span><span class="nv">$PWD</span><span class="s2">/</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="o">}</span>

<span class="nb">alias</span> <span class="nv">kill9</span><span class="o">=</span><span class="s1">&#39;kill -9&#39;</span>

<span class="c1">## extract util.</span>
<span class="k">function</span> extract <span class="o">{</span>
  <span class="k">if</span> <span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c1"># display usage if no parameters given</span>
    <span class="nb">echo</span> <span class="s2">&quot;Usage: extract &lt;path/file_name&gt;.&lt;zip|rar|bz2|gz|tar|tbz2|tgz|Z|7z|xz|ex|tar.bz2|tar.gz|tar.xz&gt;&quot;</span>
  <span class="k">else</span>
  <span class="k">if</span> <span class="o">[</span> -f <span class="nv">$1</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="c1"># NAME=${1%.*}</span>
    <span class="c1"># mkdir $NAME &amp;&amp; cd $NAME</span>
    <span class="k">case</span> <span class="nv">$1</span> in
      *.tar.bz2<span class="o">)</span>   tar xvjf <span class="nv">$1</span>    <span class="p">;;</span>
      *.tar.gz<span class="o">)</span>    tar xvzf <span class="nv">$1</span>    <span class="p">;;</span>
      *.tar.xz<span class="o">)</span>    tar xvJf <span class="nv">$1</span>    <span class="p">;;</span>
      *.lzma<span class="o">)</span>      unlzma <span class="nv">$1</span>      <span class="p">;;</span>
      *.bz2<span class="o">)</span>       bunzip2 <span class="nv">$1</span>     <span class="p">;;</span>
      *.rar<span class="o">)</span>       unrar x -ad <span class="nv">$1</span> <span class="p">;;</span>
      *.gz<span class="o">)</span>        gunzip <span class="nv">$1</span>      <span class="p">;;</span>
      *.tar<span class="o">)</span>       tar xvf <span class="nv">$1</span>     <span class="p">;;</span>
      *.tbz2<span class="o">)</span>      tar xvjf <span class="nv">$1</span>    <span class="p">;;</span>
      *.tgz<span class="o">)</span>       tar xvzf <span class="nv">$1</span>    <span class="p">;;</span>
      *.zip<span class="o">)</span>       unzip <span class="nv">$1</span>       <span class="p">;;</span>
      *.Z<span class="o">)</span>         uncompress <span class="nv">$1</span>  <span class="p">;;</span>
      *.7z<span class="o">)</span>        7z x <span class="nv">$1</span>        <span class="p">;;</span>
      *.xz<span class="o">)</span>        unxz <span class="nv">$1</span>        <span class="p">;;</span>
      *.exe<span class="o">)</span>       cabextract <span class="nv">$1</span>  <span class="p">;;</span>
      *<span class="o">)</span>           <span class="nb">echo</span> <span class="s2">&quot;extract: &#39;</span><span class="nv">$1</span><span class="s2">&#39; - unknown archive method&quot;</span> <span class="p">;;</span>
    <span class="k">esac</span>
  <span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2"> - file does not exist&quot;</span>
  <span class="k">fi</span>
  <span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Usage: psfind &lt;keywords&gt; (RegExp supported)</span>
<span class="k">function</span> psfind<span class="o">()</span> <span class="o">{</span>
  ps aux <span class="p">|</span> head -n <span class="m">1</span>
  ps aux <span class="p">|</span> grep -E <span class="nv">$1</span> <span class="p">|</span> grep -v grep
<span class="o">}</span>

<span class="c1"># feh</span>
<span class="nb">alias</span> <span class="nv">feh_full</span><span class="o">=</span><span class="s1">&#39;feh -F --keep-zoom-vp -d&#39;</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Yilin Gui.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-06-29 09:26:16</p>
      </span>
    </div>

    
    
  </body>
</html>