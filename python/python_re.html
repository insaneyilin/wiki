<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Python 正则表达式 - Yilin's Wiki</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          <!--$表示行内元素，$$表示块状元素 -->
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>
    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <!--Mermaid流程图-->
    <script src="https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/wiki/">Home</a>&nbsp;&#187;&nbsp;<a href="/wiki/#python">python</a>&nbsp;&#187;&nbsp;Python 正则表达式
    <span class="updated">Page Updated&nbsp;
      2019-11-20 11:01
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">Python 正则表达式</div>

  <p>正则表达式(regular expression)是一种用来匹配字符串的强有力的武器。它的设计思想是用一种描述性的语言来给字符串定义一个规则，凡是符合规则的字符串，我们就认为它“匹配”了，否则，该字符串就是不合法的。</p>
<p>Python 中可以用 <code>re</code> 模块使用正则表达式。</p>
<div class="hlcode"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># 由于Python的字符串本身也用\转义，所以要特别注意</span>
<span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;ABC</span><span class="se">\\</span><span class="s1">-001&#39;</span> <span class="c1"># Python的字符串</span>
<span class="c1"># 对应的正则表达式字符串变成：</span>
<span class="c1"># &#39;ABC\-001&#39;</span>

<span class="c1"># 强烈建议使用Python的r前缀，就不用考虑转义的问题了</span>
<span class="n">s</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;ABC\-001&#39;</span> <span class="c1"># Python的字符串</span>
<span class="c1"># 对应的正则表达式字符串不变：</span>
<span class="c1"># &#39;ABC\-001&#39;</span>

<span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d{3}\-\d{3,8}$&#39;</span><span class="p">,</span> <span class="s1">&#39;010-12345&#39;</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;match success&quot;</span><span class="p">)</span>
<span class="c1"># match 成功会返回一个 Match 对象，否则返回 None</span>

<span class="c1"># 使用预编译提高效率</span>
<span class="n">re_telephone</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^(\d{3})-(\d{3,8})$&#39;</span><span class="p">)</span>
<span class="n">re_telephone</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;010-12345&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># (&#39;010&#39;, &#39;12345&#39;)</span>
</pre></div>
  <div class="relation">
    <h2>Related</h2>
    <ul>
    
    <li><a href="/wiki/tools/anaconda_python_notes.html">Anaconda notes</a></li>
    
    <li><a href="/wiki/python/python_oop.html">Python 面向对象编程</a></li>
    
    <li><a href="/wiki/python/python_database.html">Python 数据库访问</a></li>
    
    <li><a href="/wiki/python/python_network_programming.html">Python 网络编程</a></li>
    
    <li><a href="/wiki/python/python_basics_notes.html">Python Basics Notes</a></li>
    
    <li><a href="/wiki/python/python_email.html">Python 收发电子邮件</a></li>
    
    <li><a href="/wiki/python/python_web_development.html">Python Web 开发</a></li>
    
    <li><a href="/wiki/python/python_modules.html">Python 中的模块</a></li>
    
    <li><a href="/wiki/python/python_debugging_and_tests.html">Python 错误处理与测试</a></li>
    
    <li><a href="/wiki/python/python_fp_notes.html">Python 函数式编程</a></li>
    
    <li><a href="/wiki/python/python_process_thread_and_async_io.html">Python 进程、线程与异步IO</a></li>
    
    <li><a href="/wiki/python/python_IO.html">Python IO 编程</a></li>
    
    </ul>
  </div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 Yilin Gui.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-11-27 01:34:32</p>
      </span>
    </div>

    
    
  </body>
</html>